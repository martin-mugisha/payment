{% extends "dashboard/base_staff.html" %}
{% load humanize %}

{% block content %}
<h1>Clients</h1>

<div class="kpi-cards">
  <section class="kpi-card">
    <h3>Total Clients</h3>
    <p>{{ total_clients }}</p>
  </section>
  <section class="kpi-card">
    <h3>Active Clients</h3>
    <p>{{ active_clients }}</p>
  </section>
  <section class="kpi-card">
    <h3>Inactive Clients</h3>
    <p>{{ inactive_clients }}</p>
  </section>
  <section class="kpi-card">
    <h3>Total Balance</h3>
    <p>UGX {{ total_balance|floatformat:2|intcomma }}</p>
  </section>
</div>

{% if clients %}
<table class="data-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Business Type</th>
      <th>ID</th>
      <th>Status</th>
      <th>Balance (UGX)</th>
    </tr>
  </thead>
  <tbody>
    {% for client in clients %}
    <tr>
      <td>{{ client.name }}</td>
      <td>{{ client.business_type }}</td>
      <td>{{ client.id }}</td>
      <td>{{ client.status }}</td>
      <td>{{ client.balance|floatformat:2|intcomma }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No clients assigned to you.</p>
{% endif %}
{% endblock %}
