{% extends "dashboard/base_staff.html" %} {% block content %}
<h1>My Earnings</h1>

<div class="tab-container">
  <div class="tab-buttons">
    <button id="weeklyEarnings-btn" onclick="showTab('weeklyEarnings')">
      Weekly Earnings
    </button>
    <button id="monthlyEarnings-btn" onclick="showTab('monthlyEarnings')">
      Monthly Earnings
    </button>
    <button id="highestEarnings-btn" onclick="showTab('highestEarnings')">
      Highest Earnings
    </button>
    <button id="lowestEarnings-btn" onclick="showTab('lowestEarnings')">
      Lowest Earnings
    </button>
  </div>

  <div id="weeklyEarnings" class="tab-content">
    <h3>Weekly Earnings</h3>
    <table class="data-table">
      <thead>
        <tr>
          <th>Day</th>
          <th>Earnings (UGX)</th>
        </tr>
      </thead>
      <tbody>
        {% for item in weekly_earnings %}
        <tr>
          <td>{{ item.day }}</td>
          <td>{{ item.amount }}</td>
        </tr>
        {% endfor %}
        <tr>
          <th>Total</th>
          <th>{{ weekly_total }}</th>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="monthlyEarnings" class="tab-content">
    <h3>Monthly Earnings</h3>
    <table class="data-table">
      <thead>
        <tr>
          <th>Week</th>
          <th>Earnings (UGX)</th>
        </tr>
      </thead>
      <tbody>
        {% for item in monthly_earnings %}
        <tr>
          <td>{{ item.week }}</td>
          <td>{{ item.amount }}</td>
        </tr>
        {% endfor %}
        <tr>
          <th>Total</th>
          <th>{{ monthly_total }}</th>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="highestEarnings" class="tab-content">
    <h3>Highest Earnings</h3>
    <table class="data-table">
      <thead>
        <tr>
          <th>User</th>
          <th>Earnings (UGX)</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        {% for item in highest_earnings %}
        <tr>
          <td>{{ item.user }}</td>
          <td>{{ item.amount }}</td>
          <td>{{ item.date }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div id="lowestEarnings" class="tab-content">
    <h3>Lowest Earnings</h3>
    <table class="data-table">
      <thead>
        <tr>
          <th>User</th>
          <th>Earnings (UGX)</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        {% for item in lowest_earnings %}
        <tr>
          <td>{{ item.user }}</td>
          <td>{{ item.amount }}</td>
          <td>{{ item.date }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script>
  function showTab(tabName) {
    const tabs = document.querySelectorAll(".tab-content");
    const buttons = document.querySelectorAll(".tab-buttons button");

    tabs.forEach((tab) => tab.classList.remove("active"));
    buttons.forEach((btn) => btn.classList.remove("active"));

    document.getElementById(tabName).classList.add("active");
    document.getElementById(tabName + "-btn").classList.add("active");
  }

  document.addEventListener("DOMContentLoaded", () => {
    showTab("weeklyEarnings"); // Default to 'weeklyEarnings' tab
  });
</script>

<style>
  .tab-buttons {
    display: flex;
    border-bottom: 2px solid #e2e8f0;
    margin-top: 20px;
  }
  .tab-buttons button {
    background: none;
    border: none;
    padding: 12px 24px;
    cursor: pointer;
    font-weight: 600;
    color: #4a5568;
    transition: border-color 0.3s, color 0.3s;
    border-bottom: 3px solid transparent;
  }
  .tab-buttons button.active {
    border-color: #2c3e50;
    color: #2c3e50;
  }
  .tab-content {
    display: none;
  }
  .tab-content.active {
    display: block;
  }
</style>

{% endblock %}
