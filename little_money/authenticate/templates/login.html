{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login & Forgot Password | Your Company</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      /* Fade animation for marketing section on desktop */
      .forgot-password-helper-text-login,
      .forgot-password-helper-text-forgot-password {
        transition: opacity 0.5s ease-in-out;
      }
      /* Base styles for the marketing section on larger screens */
      @media (min-width: 768px) {
        .login-form-container,
        .forgot-password-form-container {
          padding: 40px;
        }
      }

      /* Fog overlay animation */
      @keyframes fogMove {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 100% 0;
        }
      }

      .marketing-section {
        position: relative;
        overflow: hidden;
      }

      .marketing-section::before {
        content: "";
        position: absolute;
        inset: 0;
        background: url('{% static "dashboard/images/foggy-birds.png" %}')
          repeat-x; /* a subtle fog texture */
        opacity: 0.15;
        animation: fogMove 60s linear infinite;
        pointer-events: none;
        z-index: 0;
      }
      /* Shimmer glow effect on headline */
      .marketing-section h1 {
        animation: shimmerGlow 4s ease-in-out infinite;
        position: relative;
        z-index: 2;
      }

      /* Pulsing effect on buttons */
      button {
        animation: pulseBtn 3s infinite ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 0.9;
          transform: translateY(0);
        }
      }

      .animate-fade-in {
        animation: fadeIn 1s ease forwards;
      }

      /* Message styles */
      ul.messages {
        list-style-type: none;
        padding: 0;
        margin-bottom: 1rem;
      }
      ul.messages li {
        padding: 0.75rem 1rem;
        border-radius: 0.375rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
      }
      ul.messages li.success {
        background-color: #d1fae5; /* Tailwind green-100 */
        color: #065f46; /* Tailwind green-800 */
        border: 1px solid #10b981; /* Tailwind green-500 */
      }
      ul.messages li.error {
        background-color: #fee2e2; /* Tailwind red-100 */
        color: #991b1b; /* Tailwind red-800 */
        border: 1px solid #ef4444; /* Tailwind red-500 */
      }
      ul.messages li.info {
        background-color: #dbeafe; /* Tailwind blue-100 */
        color: #1e40af; /* Tailwind blue-800 */
        border: 1px solid #3b82f6; /* Tailwind blue-500 */
      }
    </style>
  </head>
  <body
    class="flex items-center justify-center min-h-screen p-4 text-slate-800"
  >
    <main
      class="container bg-white rounded-2xl shadow-xl overflow-hidden md:max-w-4xl md:h-auto w-auto max-w-sm md:max-w-none"
    >
      <div
        class="main-content-wrapper flex flex-col md:grid md:grid-cols-[1.2fr_1fr] md:h-full relative"
      >
        <div
          class="marketing-section bg-[#2c3e50] text-white p-6 md:p-10 flex-col items-center justify-center text-left hidden md:flex rounded-l-2xl relative"
        >
          <div
            class="forgot-password-helper-text-login absolute inset-0 p-6 md:p-10 flex flex-col justify-center opacity-100"
          >
            <h1 class="text-4xl font-extrabold leading-tight">
              Easy Payments,<br />Seamless Transactions
            </h1>
            <p class="mt-4 text-xl font-light text-slate-200">
              Pay clients and receive money from any source with ease.
            </p>
            <br />
            <br />
            <div class="flex flex-row items-center space-x-8">
              <div class="flex flex-col items-center">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/414/414974.png"
                  alt="Money"
                  class="w-8 h-8"
                />
                <span>Fast & Secure</span>
              </div>
              <div class="flex flex-col items-center">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/2921/2921222.png"
                  alt="Transaction"
                  class="w-8 h-8"
                /><span>Instant Transfers</span>
              </div>
              <div class="flex flex-col items-center">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/565/565547.png"
                  alt="Support"
                  class="w-8 h-8"
                />
                <span>24/7 Support</span>
              </div>
            </div>
          </div>
          <div
            class="forgot-password-helper-text-forgot-password absolute inset-0 p-6 md:p-10 flex flex-col justify-center opacity-0"
          >
            <h1 class="text-4xl font-extrabold leading-tight">
              Reset your<br />password
            </h1>
            <p class="mt-4 text-xl font-light text-slate-200">
              Please insert your username and check your email for a new
              password.
            </p>
            <div
              class="mt-8 flex items-center gap-3 text-slate-300 text-sm opacity-90 animate-fade-in"
            >
              <img
                src="https://cdn-icons-png.flaticon.com/512/3064/3064197.png"
                alt="Security"
                class="w-6 h-6"
              />
              <span>Your security is our priority. Reset with confidence.</span>
            </div>
          </div>
        </div>

        <div class="form-section relative overflow-hidden">
          <div class="form-wrapper h-full flex items-center justify-center">
            <div
              id="login-form-container"
              class="w-full flex-shrink-0 p-4 sm:p-8 flex flex-col items-center"
            >
              <div
                class="w-full max-w-xs sm:max-w-sm flex flex-col items-center"
              >
                <div class="mb-8">
                  <img
                    src="https://placehold.co/150x50/1e40af/ffffff?text=Logo"
                    alt="Company Logo"
                    class="h-10"
                  />
                </div>
                {% if messages %}
                  <ul class="messages">
                    {% for message in messages %}
                      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                  </ul>
                  {% endif %}
                <form method="post" class="w-full flex flex-col gap-6">
                  {% csrf_token %}
                  <h2 class="text-3xl font-extrabold text-center mb-2">
                    Sign in to your account
                  </h2>
                  <div class="input-group flex flex-col text-left">
                    <label for="username_login" class="font-semibold mb-1"
                      >Username:</label
                    >
                    <input
                      type="text"
                      name="username"
                      id="username_login"
                      required
                      class="p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                      placeholder="Enter your username"
                    />
                  </div>
                  <div class="input-group flex flex-col text-left">
                    <div class="flex justify-between items-center mb-1">
                      <label for="password_login" class="font-semibold"
                        >Password:</label
                      >
                      <a
                        href="#"
                        id="forgot-password-link"
                        class="text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors duration-200"
                        >Forgot password?</a
                      >
                    </div>
                    <input
                      type="password"
                      name="password"
                      id="password_login"
                      required
                      class="p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                      placeholder="••••••••"
                    />
                  </div>
                  <button
                    type="submit"
                    class="w-full bg-[#2c3e50] text-white p-3 font-semibold rounded-lg shadow-md hover:bg-[#0c2b49;] hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1"
                  >
                    Login
                  </button>
                </form>
              </div>
            </div>

            <div
              id="forgot-password-form-container"
              class="w-full flex-shrink-0 p-4 sm:p-8 flex-col items-center hidden"
            >
              <div
                class="w-full max-w-xs sm:max-w-sm flex flex-col items-center"
              >
                <div class="mb-8">
                  <img
                    src="https://placehold.co/150x50/1e40af/ffffff?text=Logo"
                    alt="Company Logo"
                    class="h-10"
                  />
                </div>
                <form method="post" class="w-full flex flex-col gap-6">
                  {% csrf_token %}
                  <h2 class="text-3xl font-extrabold text-center mb-2">
                    Forgot your password?
                  </h2>
                  <p class="text-center text-slate-600 mb-4 text-sm">
                    Enter your username to receive a password reset link.
                  </p>
                  <div class="input-group flex flex-col text-left">
                    <label for="username_forgot" class="font-semibold mb-1"
                      >Username:</label
                    >
                    <input
                      type="text"
                      name="username"
                      id="username_forgot"
                      required
                      class="p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                      placeholder="Enter your username"
                    />
                  </div>
                  <button
                    type="submit"
                    class="w-full bg-[#2c3e50] text-white p-3 font-semibold rounded-lg shadow-md hover:bg-[#0c2b49;] hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1"
                  >
                    Send Reset Link
                  </button>
                </form>
                <p class="text-sm text-slate-500 mt-6">
                  Remember your password?
                  <a
                    href="#"
                    id="back-to-login-link"
                    class="text-blue-600 font-semibold hover:text-blue-800"
                    >Log in</a
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      const loginFormContainer = document.getElementById(
        "login-form-container"
      );
      const forgotPasswordFormContainer = document.getElementById(
        "forgot-password-form-container"
      );
      const forgotPasswordLink = document.getElementById(
        "forgot-password-link"
      );
      const backToLoginLink = document.getElementById("back-to-login-link");
      const loginHelperText = document.querySelector(
        ".forgot-password-helper-text-login"
      );
      const forgotPasswordHelperText = document.querySelector(
        ".forgot-password-helper-text-forgot-password"
      );

      forgotPasswordLink.addEventListener("click", (e) => {
        e.preventDefault();
        loginFormContainer.classList.add("hidden");
        forgotPasswordFormContainer.classList.remove("hidden");

        if (window.innerWidth >= 768) {
          loginHelperText.classList.remove("opacity-100");
          loginHelperText.classList.add("opacity-0");
          forgotPasswordHelperText.classList.remove("opacity-0");
          forgotPasswordHelperText.classList.add("opacity-100");
        }
      });

      backToLoginLink.addEventListener("click", (e) => {
        e.preventDefault();
        forgotPasswordFormContainer.classList.add("hidden");
        loginFormContainer.classList.remove("hidden");

        if (window.innerWidth >= 768) {
          forgotPasswordHelperText.classList.remove("opacity-100");
          forgotPasswordHelperText.classList.add("opacity-0");
          loginHelperText.classList.remove("opacity-0");
          loginHelperText.classList.add("opacity-100");
        }
      });
    </script>
  </body>
</html>
